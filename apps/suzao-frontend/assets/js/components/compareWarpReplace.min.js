addEventListener("load",()=>{Vue.component("compare-warp-replace",{props:{compareList:{default:()=>[],type:Array},compareMax:{default:5,type:Number},active:{default:()=>{},type:Object}},data:()=>({hrefCompare:"",compareCoordinate:{x:0,y:0},checkList:[]}),watch:{checkList:{handler(e,a){e.length>=1?this.openCompareDialog():this.hrefCompare=""},immediate:!0,deep:!0}},computed:{drawerData(){return this.compareList.map(this.transformation)},outViewsShow(){return!Boolean(this.hrefCompare)}},methods:{transformation:e=>e.firstItemLine?e.firstItemLine:e,openCompareDialog(){const e=new FormData,a={},t=this.active;e.append("id",t.uuid+","+this.checkList.join(",")),axios({url:"/plastic/getCompareCode",method:"post",headers:{"X-Requested-With":"XMLHttpRequest"},data:e}).then(({data:e})=>{1===e.status&&1===e.data.can_view&&(a.code=e.data.code,this.hrefCompare="/plastic/compareV2?"+new URLSearchParams(a).toString())})},closeCompareDialog(){this.$emit("close-replace-dialog","")}},directives:{drag:{inserted(e,a,t){var n=0,s=0,i=0,r=0,o=!1;const c=t.context;e.addEventListener("mousedown",a=>{o=c.active&&!a.target.classList.contains("icon"),n=a.clientX,s=a.clientY;var t=getComputedStyle(e).transform;if("none"!==t){var p=t.match(/matrix.*\((.+)\)/)[1].split(", ");i=parseFloat(p[4]),r=parseFloat(p[5])}e.style.cursor="grabbing"}),document.addEventListener("mousemove",a=>{if(o){var t=a.clientX-n,p=a.clientY-s,l=i+t,m=r+p;c.compareCoordinate={x:l,y:m},e.style.transform="translate("+l+"px, "+m+"px)"}}),document.addEventListener("mouseup",()=>{o=!1,e.style.cursor="grab"}),document.addEventListener("mouseleave",()=>{o=!1,e.style.cursor="grab"})}}},template:'\n    <div class="compare-warp-replace" v-drag ref="compareWarp">\n      <div class="compare-table" v-if=\'active.uuid\'>\n        <div class="header"><span>物性对比</span> <i class="el-icon-close" @click=\'closeCompareDialog\'></i></div>\n        <div class="compare-content">      \n          <div class="el-checkbox-group">\n            <el-checkbox :value="true">\n              <span v-if="active.firstItemLine.zhname" class="zhname">{{active.firstItemLine.zhname}}</span>\n              <span v-if="active.firstItemLine.name" class="name">{{active.firstItemLine.name}}</span>\n              <span v-if="active.firstItemLine.sp_name" class="sp_name">{{active.firstItemLine.sp_name}}</span>\n              <span v-if="active.firstItemLine.p_base_gradeno" class="p_base_gradeno">{{active.firstItemLine.p_base_gradeno}}</span>\n            </el-checkbox>\n          </div>\n          <div class="checkbox-title">替代牌号</div>\n          <el-checkbox-group v-if="drawerData" v-model="checkList" :max="compareMax - 1">\n            <el-checkbox v-for="it in drawerData" :key="it" :label="it.uuid">\n              <span v-if="it.zhname" class="zhname">{{it.zhname}}</span>\n              <span v-if="it.name" class="name">{{it.name}}</span>\n              <span v-if="it.sp_name" class="sp_name">{{it.sp_name}}</span>\n              <span v-if="it.p_base_gradeno" class="p_base_gradeno">{{it.p_base_gradeno}}</span>\n            </el-checkbox>\n          </el-checkbox-group>\n          <div class="compare-footer">\n            <el-popover\n              v-if="outViewsShow"\n              class="db"\n              placement="top-start"\n              content="请选择2个以上牌号"\n              width="260"\n              trigger="hover">\n              <el-button class="btn btnLink" :underline="false" slot="reference">请选择2个以上牌号</el-button>\n            </el-popover>            \n            <el-link v-else :underline="false" :href="hrefCompare" :disabled="checkList.length < 1" class="btn btnLink" target=\'_blank\'>对比({{ checkList.length + 1}})</el-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    '})});